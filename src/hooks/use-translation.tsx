
import { createContext, useContext, useState, useEffect } from "react";

// Language type
type Language = {
  code: string;
  name: string;
  flag: string;
};

// Context type
type TranslationContextType = {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: string, params?: Record<string, any>) => string;
  availableLanguages: Language[];
};

// Available languages
export const availableLanguages: Language[] = [
  { code: "fr", name: "Fran√ßais", flag: "üá´üá∑" },
  { code: "en", name: "English", flag: "üá¨üáß" },
  { code: "ar", name: "ÿßŸÑÿπÿ±ÿ®Ÿäÿ©", flag: "üá∏üá¶" },
  { code: "it", name: "Italiano", flag: "üáÆüáπ" }
];

// Translation strings organized by language code
const translations: Record<string, Record<string, string>> = {
  fr: {
    // Navigation
    "home": "Accueil",
    "cars": "Nos V√©hicules",
    "reservations": "R√©servations",
    "contact": "Contact",
    "login": "Connexion",
    "signup": "S'inscrire",
    "logout": "D√©connexion",
    "admin": "Admin",
    "user": "Utilisateur",
    
    // Footer
    "footerDescription": "Votre partenaire de confiance pour la location de v√©hicules de qualit√© sup√©rieure. Notre mission est de vous offrir la meilleure exp√©rience de location possible.",
    "quickLinks": "Liens rapides",
    "categories": "Cat√©gories",
    "sedan": "Berlines",
    "suv": "SUVs",
    "electric": "√âlectriques",
    "luxury": "Voitures de Luxe",
    "economic": "√âconomiques",
    "utility": "Utilitaires",
    "allRightsReserved": "Tous droits r√©serv√©s.",
    
    // Featured Cars
    "ourPremiumVehicles": "Nos V√©hicules",
    "premium": "Premium",
    "featuredCarsDescription": "D√©couvrez notre s√©lection de v√©hicules de haute qualit√© pour tous vos besoins et budgets. Nous offrons une large gamme de voitures pour r√©pondre √† toutes vos exigences.",
    "tous": "Tous",
    "berline": "Berline",
    "suv": "SUV",
    "√©lectrique": "√âlectrique",
    "sport": "Sport",
    "viewAllVehicles": "Voir tous les v√©hicules",
    "addedToFavorites": "Ajout√© aux favoris",
    "addedToFavoritesDescription": "Le v√©hicule a √©t√© ajout√© √† vos favoris",
    "removedFromFavorites": "Retir√© des favoris",
    "removedFromFavoritesDescription": "Le v√©hicule a √©t√© retir√© de vos favoris",
    "availabilityUpdated": "Disponibilit√© mise √† jour",
    "vehicleNowUnavailable": "{car} est maintenant indisponible",
    "vehicleNowAvailable": "{car} est maintenant disponible",
    
    // Language
    "languageChanged": "Langue modifi√©e",
    "languageChangedTo": "La langue a √©t√© chang√©e en {language}",
    
    // Auth
    "fullName": "Nom complet",
    "enterFullName": "Entrez votre nom complet",
    "email": "Email",
    "password": "Mot de passe",
    "confirmPassword": "Confirmer le mot de passe",
    "forgotPassword": "Mot de passe oubli√© ?",
    "backToLogin": "Retour √† la connexion",
    "dontHaveAccount": "Vous n'avez pas de compte ?",
    "alreadyHaveAccount": "Vous avez d√©j√† un compte ?",
    "createAccount": "Cr√©er un compte",
    "loginAccount": "Se connecter",
    "forgotPasswordDescription": "Entrez votre adresse e-mail et nous vous enverrons un lien pour r√©initialiser votre mot de passe.",
    "sendResetLink": "Envoyer le lien de r√©initialisation",
    "sending": "Envoi en cours...",
    "passwordResetEmailInfo": "Nous vous enverrons un lien pour r√©initialiser votre mot de passe.",
    "passwordResetEmailSent": "Email de r√©initialisation envoy√©",
    "passwordResetInstructions": "Des instructions ont √©t√© envoy√©es √† {email}",
    "passwordResetEmailSentDescription": "Veuillez v√©rifier votre email pour un lien de r√©initialisation.",
    "tryAnotherEmail": "Essayer une autre adresse email",
    "passwordResetError": "Erreur de r√©initialisation",
    "passwordResetErrorMessage": "Une erreur s'est produite lors de l'envoi de l'email. Veuillez r√©essayer.",
    
    // Reservation
    "bookNow": "R√©server maintenant",
    "pickupDate": "Date de prise en charge",
    "returnDate": "Date de retour",
    "phoneNumber": "Num√©ro de t√©l√©phone",
    "rentalPrice": "Prix de la location :",
    "confirmReservation": "Confirmer la r√©servation",
    "processing": "Traitement en cours...",
    "vehicleUnavailable": "V√©hicule indisponible",
    "vehicleUnavailableMessage": "Ce v√©hicule n'est actuellement pas disponible √† la location.",
    "reservationSuccess": "R√©servation confirm√©e",
    "reservationSuccessDescription": "Votre r√©servation pour {car} a √©t√© confirm√©e.",
    "reservationError": "Erreur de r√©servation",
    "reservationErrorDescription": "Une erreur s'est produite lors de la r√©servation. Veuillez r√©essayer.",
    "features": "Caract√©ristiques",
    "seats": "si√®ges",
    "vehicleNotFound": "V√©hicule non trouv√©",
    "vehicleNotFoundDescription": "Le v√©hicule que vous recherchez n'existe pas ou a √©t√© supprim√©.",
    "backToCars": "Retour aux v√©hicules",
    
    // Footer pages
    "privacyPolicy": "Politique de confidentialit√©",
    "termsOfService": "Conditions d'utilisation",
    "cookiePolicy": "Gestion des cookies",
    "privacyPolicyLastUpdated": "Derni√®re mise √† jour :",
    "termsLastUpdated": "Derni√®re mise √† jour :",
    "cookieLastUpdated": "Derni√®re mise √† jour :",
    "date": "{date, date, long}",
    
    // Privacy policy sections
    "privacyIntroTitle": "Introduction",
    "privacyIntroText": "Cette politique de confidentialit√© explique comment nous collectons, utilisons et prot√©geons vos informations personnelles lorsque vous utilisez notre service de location de voitures.",
    "dataCollectionTitle": "Collecte des donn√©es",
    "dataCollectionText": "Nous collectons diff√©rents types d'informations √† diverses fins pour vous fournir et am√©liorer notre service.",
    "personalDataTitle": "Donn√©es personnelles",
    "personalDataText": "Lors de votre utilisation de notre service, nous pouvons vous demander de nous fournir certaines informations personnelles qui peuvent √™tre utilis√©es pour vous contacter ou vous identifier, notamment :",
    "personalDataName": "Nom et pr√©nom",
    "personalDataEmail": "Adresse e-mail",
    "personalDataPhone": "Num√©ro de t√©l√©phone",
    "personalDataAddress": "Adresse postale",
    "personalDataPayment": "Informations de paiement",
    "usageDataTitle": "Donn√©es d'utilisation",
    "usageDataText": "Nous pouvons √©galement recueillir des informations sur la fa√ßon dont le service est utilis√©, notamment votre adresse IP, le type de navigateur, la version du navigateur, les pages de notre service que vous visitez, l'heure et la date de votre visite, le temps pass√© sur ces pages, et d'autres statistiques.",
    "dataUseTitle": "Utilisation des donn√©es",
    "dataUseText": "Nous utilisons les donn√©es collect√©es pour diverses finalit√©s :",
    "dataUseProvideService": "Pour fournir et maintenir notre service",
    "dataUseImproveService": "Pour am√©liorer notre service",
    "dataUseCommunicate": "Pour communiquer avec vous",
    "dataUseLegal": "Pour se conformer aux obligations l√©gales",
    "dataSharingTitle": "Partage des donn√©es",
    "dataSharingText": "Nous ne vendons pas vos donn√©es personnelles √† des tiers. Nous pouvons partager vos informations avec nos prestataires de services, partenaires commerciaux et affili√©s qui nous aident √† vous fournir nos services.",
    "dataSecurityTitle": "S√©curit√© des donn√©es",
    "dataSecurityText": "La s√©curit√© de vos donn√©es est importante pour nous. Nous nous effor√ßons d'utiliser des moyens commercialement acceptables pour prot√©ger vos informations personnelles, mais nous ne pouvons pas garantir leur s√©curit√© absolue.",
    "yourRightsTitle": "Vos droits",
    "yourRightsText": "En vertu de la r√©glementation sur la protection des donn√©es, vous disposez des droits suivants :",
    "rightsAccess": "Droit d'acc√®s √† vos donn√©es personnelles",
    "rightsRectification": "Droit de rectification des donn√©es inexactes",
    "rightsDeletion": "Droit √† l'effacement de vos donn√©es",
    "rightsRestriction": "Droit √† la limitation du traitement",
    "rightsPortability": "Droit √† la portabilit√© des donn√©es",
    "rightsObjection": "Droit d'opposition au traitement",
    "contactTitle": "Contact",
    "contactText": "Si vous avez des questions concernant cette politique de confidentialit√©, veuillez nous contacter par email √† contact@carrentalpro.fr ou par t√©l√©phone au +33 1 23 45 67 89.",
    
    // Terms of service sections
    "termsIntroTitle": "Introduction",
    "termsIntroText": "Ces conditions d'utilisation r√©gissent votre utilisation de notre service de location de voitures et constituent un accord juridiquement contraignant entre vous et CarRentalPro.",
    "definitionsTitle": "D√©finitions",
    "definitionsText": "Dans ces conditions d'utilisation, les termes suivants ont la signification suivante :",
    "definitionService": "Service",
    "definitionServiceText": "Le service de location de voitures propos√© par CarRentalPro",
    "definitionCompany": "Soci√©t√©",
    "definitionCompanyText": "CarRentalPro, la soci√©t√© qui exploite le service",
    "definitionUser": "Utilisateur",
    "definitionUserText": "La personne qui acc√®de ou utilise le service",
    "definitionVehicle": "V√©hicule",
    "definitionVehicleText": "La voiture ou tout autre v√©hicule mis √† disposition pour la location",
    "definitionRental": "Location",
    "definitionRentalText": "L'accord temporaire permettant √† l'utilisateur d'utiliser un v√©hicule",
    "accountTitle": "Votre compte",
    "accountText": "Pour utiliser certaines fonctionnalit√©s de notre service, vous devez cr√©er un compte. Vous √™tes responsable du maintien de la confidentialit√© de votre compte et de votre mot de passe.",
    "accountResponsibility": "Vous acceptez d'√™tre responsable de toutes les activit√©s qui se produisent sous votre compte.",
    "rentalProcessTitle": "Processus de location",
    "rentalProcessText": "Le processus de location est soumis aux conditions suivantes :",
    "reservationsTitle": "R√©servations",
    "reservationsText": "Les r√©servations sont sujettes √† disponibilit√©. Nous nous r√©servons le droit d'annuler ou de modifier une r√©servation en cas de circonstances exceptionnelles.",
    "paymentTitle": "Paiement",
    "paymentText": "Le paiement doit √™tre effectu√© avant la prise en charge du v√©hicule. Des frais suppl√©mentaires peuvent s'appliquer pour les retours tardifs ou les dommages.",
    "cancellationTitle": "Annulation",
    "cancellationText": "Notre politique d'annulation permet des remboursements complets jusqu'√† 48 heures avant la date de location pr√©vue. Des frais d'annulation peuvent s'appliquer pour les annulations tardives.",
    "vehicleUseTitle": "Utilisation du v√©hicule",
    "vehicleUseText": "Vous acceptez d'utiliser le v√©hicule conform√©ment √† toutes les lois et r√©glementations applicables et selon les termes sp√©cifi√©s dans le contrat de location.",
    "prohibitedUsesTitle": "Utilisations interdites",
    "prohibitedUsesText": "Le v√©hicule ne doit pas √™tre utilis√© pour des activit√©s ill√©gales, des comp√©titions, des tests, pour remorquer d'autres v√©hicules (sauf autorisation expresse), ou √™tre conduit par une personne non autoris√©e.",
    "liabilityTitle": "Limitation de responsabilit√©",
    "liabilityText": "Dans la mesure permise par la loi, notre responsabilit√© est limit√©e au montant pay√© pour la location. Nous ne sommes pas responsables des dommages indirects, sp√©ciaux ou cons√©cutifs.",
    "changesTitle": "Modifications des conditions",
    "changesText": "Nous nous r√©servons le droit de modifier ces conditions √† tout moment. Les modifications seront publi√©es sur notre site web et prendront effet imm√©diatement.",
    "contactTermsText": "Si vous avez des questions concernant ces conditions d'utilisation, veuillez nous contacter par email √† contact@carrentalpro.fr ou par t√©l√©phone au +33 1 23 45 67 89.",
    
    // Cookie policy sections
    "cookiePolicy": "Politique de cookies",
    "whatAreCookiesTitle": "Que sont les cookies ?",
    "whatAreCookiesText": "Les cookies sont de petits fichiers texte plac√©s sur votre appareil lorsque vous visitez un site web. Ils sont largement utilis√©s pour faire fonctionner les sites web ou les rendre plus efficaces, ainsi que pour fournir des informations aux propri√©taires du site.",
    "cookieTypesTitle": "Types de cookies que nous utilisons",
    "cookieTypesText": "Nous utilisons diff√©rents types de cookies pour diverses raisons :",
    "essentialCookiesTitle": "Cookies essentiels",
    "essentialCookiesText": "Ces cookies sont n√©cessaires au fonctionnement de notre site web. Ils vous permettent de naviguer sur notre site et d'utiliser ses fonctionnalit√©s.",
    "functionCookiesTitle": "Cookies de fonctionnalit√©",
    "functionCookiesText": "Ces cookies nous permettent de reconna√Ætre et de m√©moriser vos pr√©f√©rences, comme votre langue pr√©f√©r√©e ou votre r√©gion.",
    "analyticsCookiesTitle": "Cookies d'analyse",
    "analyticsCookiesText": "Ces cookies nous aident √† comprendre comment les visiteurs interagissent avec notre site web en collectant et en signalant des informations de mani√®re anonyme.",
    "marketingCookiesTitle": "Cookies de marketing",
    "marketingCookiesText": "Ces cookies sont utilis√©s pour suivre les visiteurs sur les sites web. L'intention est d'afficher des publicit√©s pertinentes et attrayantes pour l'utilisateur individuel.",
    "cookieControlTitle": "Comment contr√¥ler les cookies",
    "cookieControlText": "Vous pouvez contr√¥ler et/ou supprimer les cookies comme vous le souhaitez. Vous pouvez supprimer tous les cookies d√©j√† pr√©sents sur votre appareil et vous pouvez configurer la plupart des navigateurs pour qu'ils ne les acceptent pas.",
    "browserSettings": "Voici comment g√©rer les cookies dans les navigateurs populaires :",
    "cookiesWeUseTitle": "Cookies sp√©cifiques que nous utilisons",
    "cookiesWeUseText": "Voici une liste des cookies sp√©cifiques que nous utilisons sur notre site :",
    "cookieName": "Nom du cookie",
    "cookiePurpose": "Objectif",
    "cookieExpiration": "Expiration",
    "sessionCookieDescription": "Pour maintenir votre session active",
    "preferencesCookieDescription": "Pour m√©moriser vos pr√©f√©rences de site",
    "gaCookieDescription": "Utilis√© par Google Analytics pour distinguer les utilisateurs",
    "sessionLength": "Session",
    "year": "an",
    "years": "ans",
    "contactCookiesText": "Si vous avez des questions concernant notre politique de cookies, veuillez nous contacter par email √† contact@carrentalpro.fr ou par t√©l√©phone au +33 1 23 45 67 89.",
  },
  en: {
    // Navigation
    "home": "Home",
    "cars": "Our Vehicles",
    "reservations": "Reservations",
    "contact": "Contact",
    "login": "Login",
    "signup": "Sign Up",
    "logout": "Logout",
    "admin": "Admin",
    "user": "User",
    
    // Footer
    "footerDescription": "Your trusted partner for premium quality vehicle rentals. Our mission is to provide you with the best possible rental experience.",
    "quickLinks": "Quick Links",
    "categories": "Categories",
    "sedan": "Sedans",
    "suv": "SUVs",
    "electric": "Electric",
    "luxury": "Luxury Cars",
    "economic": "Economy",
    "utility": "Utility",
    "allRightsReserved": "All rights reserved.",
    
    // Featured Cars
    "ourPremiumVehicles": "Our Vehicles",
    "premium": "Premium",
    "featuredCarsDescription": "Discover our selection of high-quality vehicles for all your needs and budgets. We offer a wide range of cars to meet all your requirements.",
    "tous": "All",
    "berline": "Sedan",
    "suv": "SUV",
    "√©lectrique": "Electric",
    "sport": "Sport",
    "viewAllVehicles": "View All Vehicles",
    "addedToFavorites": "Added to favorites",
    "addedToFavoritesDescription": "The vehicle has been added to your favorites",
    "removedFromFavorites": "Removed from favorites",
    "removedFromFavoritesDescription": "The vehicle has been removed from your favorites",
    "availabilityUpdated": "Availability updated",
    "vehicleNowUnavailable": "{car} is now unavailable",
    "vehicleNowAvailable": "{car} is now available",
    
    // Language
    "languageChanged": "Language Changed",
    "languageChangedTo": "Language has been changed to {language}",
    
    // Auth
    "fullName": "Full Name",
    "enterFullName": "Enter your full name",
    "email": "Email",
    "password": "Password",
    "confirmPassword": "Confirm Password",
    "forgotPassword": "Forgot Password?",
    "backToLogin": "Back to Login",
    "dontHaveAccount": "Don't have an account?",
    "alreadyHaveAccount": "Already have an account?",
    "createAccount": "Create Account",
    "loginAccount": "Login",
    "forgotPasswordDescription": "Enter your email address and we'll send you a link to reset your password.",
    "sendResetLink": "Send Reset Link",
    "sending": "Sending...",
    "passwordResetEmailInfo": "We'll send you a link to reset your password.",
    "passwordResetEmailSent": "Reset Email Sent",
    "passwordResetInstructions": "Instructions have been sent to {email}",
    "passwordResetEmailSentDescription": "Please check your email for a reset link.",
    "tryAnotherEmail": "Try Another Email",
    "passwordResetError": "Reset Error",
    "passwordResetErrorMessage": "An error occurred while sending the email. Please try again.",
    
    // Reservation
    "bookNow": "Book Now",
    "pickupDate": "Pickup Date",
    "returnDate": "Return Date",
    "phoneNumber": "Phone Number",
    "rentalPrice": "Rental Price:",
    "confirmReservation": "Confirm Reservation",
    "processing": "Processing...",
    "vehicleUnavailable": "Vehicle Unavailable",
    "vehicleUnavailableMessage": "This vehicle is currently unavailable for rental.",
    "reservationSuccess": "Reservation Confirmed",
    "reservationSuccessDescription": "Your reservation for {car} has been confirmed.",
    "reservationError": "Reservation Error",
    "reservationErrorDescription": "An error occurred during reservation. Please try again.",
    "features": "Features",
    "seats": "seats",
    "vehicleNotFound": "Vehicle Not Found",
    "vehicleNotFoundDescription": "The vehicle you're looking for doesn't exist or has been removed.",
    "backToCars": "Back to Vehicles",
    
    // Footer pages
    "privacyPolicy": "Privacy Policy",
    "termsOfService": "Terms of Service",
    "cookiePolicy": "Cookie Policy",
    "privacyPolicyLastUpdated": "Last Updated:",
    "termsLastUpdated": "Last Updated:",
    "cookieLastUpdated": "Last Updated:",
    "date": "{date, date, long}",
    
    // Privacy policy sections
    "privacyIntroTitle": "Introduction",
    "privacyIntroText": "This Privacy Policy explains how we collect, use, and protect your personal information when you use our car rental service.",
    "dataCollectionTitle": "Data Collection",
    "dataCollectionText": "We collect different types of information for various purposes to provide and improve our service.",
    "personalDataTitle": "Personal Data",
    "personalDataText": "While using our service, we may ask you to provide us with certain personally identifiable information that can be used to contact or identify you, including:",
    "personalDataName": "Full name",
    "personalDataEmail": "Email address",
    "personalDataPhone": "Phone number",
    "personalDataAddress": "Postal address",
    "personalDataPayment": "Payment information",
    "usageDataTitle": "Usage Data",
    "usageDataText": "We may also collect information on how the service is accessed and used, such as your computer's Internet Protocol address, browser type, browser version, the pages of our service that you visit, the time and date of your visit, the time spent on those pages, and other statistics.",
    "dataUseTitle": "Use of Data",
    "dataUseText": "We use the collected data for various purposes:",
    "dataUseProvideService": "To provide and maintain our service",
    "dataUseImproveService": "To improve our service",
    "dataUseCommunicate": "To communicate with you",
    "dataUseLegal": "To comply with legal obligations",
    "dataSharingTitle": "Data Sharing",
    "dataSharingText": "We do not sell your personal data to third parties. We may share your information with our service providers, business partners, and affiliates who help us provide our services to you.",
    "dataSecurityTitle": "Data Security",
    "dataSecurityText": "The security of your data is important to us. We strive to use commercially acceptable means to protect your personal information, but we cannot guarantee its absolute security.",
    "yourRightsTitle": "Your Rights",
    "yourRightsText": "Under data protection regulations, you have the following rights:",
    "rightsAccess": "Right to access your personal data",
    "rightsRectification": "Right to rectification of inaccurate data",
    "rightsDeletion": "Right to erasure of your data",
    "rightsRestriction": "Right to restriction of processing",
    "rightsPortability": "Right to data portability",
    "rightsObjection": "Right to object to processing",
    "contactTitle": "Contact Us",
    "contactText": "If you have any questions about this Privacy Policy, please contact us by email at contact@carrentalpro.fr or by phone at +33 1 23 45 67 89.",
    
    // Terms of service sections
    "termsIntroTitle": "Introduction",
    "termsIntroText": "These Terms of Service govern your use of our car rental service and constitute a legally binding agreement between you and CarRentalPro.",
    "definitionsTitle": "Definitions",
    "definitionsText": "In these Terms of Service, the following terms shall have the meaning set forth below:",
    "definitionService": "Service",
    "definitionServiceText": "The car rental service provided by CarRentalPro",
    "definitionCompany": "Company",
    "definitionCompanyText": "CarRentalPro, the company operating the service",
    "definitionUser": "User",
    "definitionUserText": "The person accessing or using the service",
    "definitionVehicle": "Vehicle",
    "definitionVehicleText": "The car or other vehicle made available for rental",
    "definitionRental": "Rental",
    "definitionRentalText": "The temporary agreement allowing the user to use a vehicle",
    "accountTitle": "Your Account",
    "accountText": "To use certain features of our service, you must create an account. You are responsible for maintaining the confidentiality of your account and password.",
    "accountResponsibility": "You agree to be responsible for all activities that occur under your account.",
    "rentalProcessTitle": "Rental Process",
    "rentalProcessText": "The rental process is subject to the following conditions:",
    "reservationsTitle": "Reservations",
    "reservationsText": "Reservations are subject to availability. We reserve the right to cancel or modify a reservation in exceptional circumstances.",
    "paymentTitle": "Payment",
    "paymentText": "Payment must be made before vehicle pickup. Additional charges may apply for late returns or damages.",
    "cancellationTitle": "Cancellation",
    "cancellationText": "Our cancellation policy allows for full refunds up to 48 hours before the scheduled rental date. Cancellation fees may apply for late cancellations.",
    "vehicleUseTitle": "Vehicle Use",
    "vehicleUseText": "You agree to use the vehicle in accordance with all applicable laws and regulations and as specified in the rental agreement.",
    "prohibitedUsesTitle": "Prohibited Uses",
    "prohibitedUsesText": "The vehicle must not be used for illegal activities, racing, testing, towing other vehicles (unless expressly permitted), or be driven by an unauthorized person.",
    "liabilityTitle": "Limitation of Liability",
    "liabilityText": "To the extent permitted by law, our liability is limited to the amount paid for the rental. We are not responsible for indirect, special, or consequential damages.",
    "changesTitle": "Changes to Terms",
    "changesText": "We reserve the right to modify these terms at any time. Changes will be posted on our website and will take effect immediately.",
    "contactTermsText": "If you have any questions about these Terms of Service, please contact us by email at contact@carrentalpro.fr or by phone at +33 1 23 45 67 89.",
    
    // Cookie policy sections
    "cookiePolicy": "Cookie Policy",
    "whatAreCookiesTitle": "What Are Cookies",
    "whatAreCookiesText": "Cookies are small text files that are placed on your device when you visit a website. They are widely used to make websites work or work more efficiently, as well as to provide information to the site owners.",
    "cookieTypesTitle": "Types of Cookies We Use",
    "cookieTypesText": "We use different types of cookies for various reasons:",
    "essentialCookiesTitle": "Essential Cookies",
    "essentialCookiesText": "These cookies are necessary for the website to function properly. They enable you to navigate our site and use its features.",
    "functionCookiesTitle": "Functionality Cookies",
    "functionCookiesText": "These cookies allow us to recognize and remember you, such as your preferred language or region.",
    "analyticsCookiesTitle": "Analytics Cookies",
    "analyticsCookiesText": "These cookies help us understand how visitors interact with our website by collecting and reporting information anonymously.",
    "marketingCookiesTitle": "Marketing Cookies",
    "marketingCookiesText": "These cookies are used to track visitors across websites. The intention is to display ads that are relevant and engaging for the individual user.",
    "cookieControlTitle": "How to Control Cookies",
    "cookieControlText": "You can control and/or delete cookies as you wish. You can delete all cookies that are already on your device and you can set most browsers to prevent them from being placed.",
    "browserSettings": "Here's how to manage cookies in popular browsers:",
    "cookiesWeUseTitle": "Specific Cookies We Use",
    "cookiesWeUseText": "Here is a list of specific cookies we use on our site:",
    "cookieName": "Cookie Name",
    "cookiePurpose": "Purpose",
    "cookieExpiration": "Expiration",
    "sessionCookieDescription": "To maintain your active session",
    "preferencesCookieDescription": "To remember your site preferences",
    "gaCookieDescription": "Used by Google Analytics to distinguish users",
    "sessionLength": "Session",
    "year": "year",
    "years": "years",
    "contactCookiesText": "If you have any questions about our Cookie Policy, please contact us by email at contact@carrentalpro.fr or by phone at +33 1 23 45 67 89.",
  },
  ar: {
    // Navigation
    "home": "ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©",
    "cars": "ÿ≥Ÿäÿßÿ±ÿßÿ™ŸÜÿß",
    "reservations": "ÿßŸÑÿ≠ÿ¨Ÿàÿ≤ÿßÿ™",
    "contact": "ÿßÿ™ÿµŸÑ ÿ®ŸÜÿß",
    "login": "ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ",
    "signup": "ÿ•ŸÜÿ¥ÿßÿ° ÿ≠ÿ≥ÿßÿ®",
    "logout": "ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨",
    "admin": "ŸÖÿØŸäÿ±",
    "user": "ŸÖÿ≥ÿ™ÿÆÿØŸÖ",
    
    // Footer
    "footerDescription": "ÿ¥ÿ±ŸäŸÉŸÉ ÿßŸÑŸÖŸàÿ´ŸàŸÇ ŸÑÿ™ÿ£ÿ¨Ÿäÿ± ÿßŸÑÿ≥Ÿäÿßÿ±ÿßÿ™ ÿπÿßŸÑŸäÿ© ÿßŸÑÿ¨ŸàÿØÿ©. ŸÖŸáŸÖÿ™ŸÜÿß ŸáŸä ÿ™ÿ≤ŸàŸäÿØŸÉ ÿ®ÿ£ŸÅÿ∂ŸÑ ÿ™ÿ¨ÿ±ÿ®ÿ© ÿ™ÿ£ÿ¨Ÿäÿ± ŸÖŸÖŸÉŸÜÿ©.",
    "quickLinks": "ÿ±Ÿàÿßÿ®ÿ∑ ÿ≥ÿ±Ÿäÿπÿ©",
    "categories": "ÿßŸÑŸÅÿ¶ÿßÿ™",
    "sedan": "ÿ≥ŸäÿØÿßŸÜ",
    "suv": "ÿØŸÅÿπ ÿ±ÿ®ÿßÿπŸä",
    "electric": "ŸÉŸáÿ±ÿ®ÿßÿ¶Ÿäÿ©",
    "luxury": "ÿ≥Ÿäÿßÿ±ÿßÿ™ ŸÅÿßÿÆÿ±ÿ©",
    "economic": "ÿßŸÇÿ™ÿµÿßÿØŸäÿ©",
    "utility": "ŸÜŸÅÿπŸäÿ©",
    "allRightsReserved": "ÿ¨ŸÖŸäÿπ ÿßŸÑÿ≠ŸÇŸàŸÇ ŸÖÿ≠ŸÅŸàÿ∏ÿ©.",
    
    // Featured Cars
    "ourPremiumVehicles": "ÿ≥Ÿäÿßÿ±ÿßÿ™ŸÜÿß",
    "premium": "ÿßŸÑŸÅÿßÿÆÿ±ÿ©",
    "featuredCarsDescription": "ÿßŸÉÿ™ÿ¥ŸÅ ŸÖÿ¨ŸÖŸàÿπÿ™ŸÜÿß ŸÖŸÜ ÿßŸÑÿ≥Ÿäÿßÿ±ÿßÿ™ ÿπÿßŸÑŸäÿ© ÿßŸÑÿ¨ŸàÿØÿ© ŸÑÿ¨ŸÖŸäÿπ ÿßÿ≠ÿ™Ÿäÿßÿ¨ÿßÿ™ŸÉ ŸàŸÖŸäÿ≤ÿßŸÜŸäÿßÿ™ŸÉ. ŸÜÿ≠ŸÜ ŸÜŸÇÿØŸÖ ŸÖÿ¨ŸÖŸàÿπÿ© Ÿàÿßÿ≥ÿπÿ© ŸÖŸÜ ÿßŸÑÿ≥Ÿäÿßÿ±ÿßÿ™ ŸÑÿ™ŸÑÿ®Ÿäÿ© ÿ¨ŸÖŸäÿπ ŸÖÿ™ÿ∑ŸÑÿ®ÿßÿ™ŸÉ.",
    "tous": "ÿßŸÑŸÉŸÑ",
    "berline": "ÿ≥ŸäÿØÿßŸÜ",
    "suv": "ÿØŸÅÿπ ÿ±ÿ®ÿßÿπŸä",
    "√©lectrique": "ŸÉŸáÿ±ÿ®ÿßÿ¶Ÿäÿ©",
    "sport": "ÿ±Ÿäÿßÿ∂Ÿäÿ©",
    "viewAllVehicles": "ÿπÿ±ÿ∂ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ≥Ÿäÿßÿ±ÿßÿ™",
    "addedToFavorites": "ÿ™ŸÖÿ™ ÿßŸÑÿ•ÿ∂ÿßŸÅÿ© ÿ•ŸÑŸâ ÿßŸÑŸÖŸÅÿ∂ŸÑÿ©",
    "addedToFavoritesDescription": "ÿ™ŸÖÿ™ ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑÿ≥Ÿäÿßÿ±ÿ© ÿ•ŸÑŸâ ŸÖŸÅÿ∂ŸÑÿßÿ™ŸÉ",
    "removedFromFavorites": "ÿ™ŸÖÿ™ ÿßŸÑÿ•ÿ≤ÿßŸÑÿ© ŸÖŸÜ ÿßŸÑŸÖŸÅÿ∂ŸÑÿ©",
    "removedFromFavoritesDescription": "ÿ™ŸÖÿ™ ÿ•ÿ≤ÿßŸÑÿ© ÿßŸÑÿ≥Ÿäÿßÿ±ÿ© ŸÖŸÜ ŸÖŸÅÿ∂ŸÑÿßÿ™ŸÉ",
    "availabilityUpdated": "ÿ™ŸÖ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÅÿ±",
    "vehicleNowUnavailable": "{car} ÿ∫Ÿäÿ± ŸÖÿ™ŸàŸÅÿ±ÿ© ÿßŸÑÿ¢ŸÜ",
    "vehicleNowAvailable": "{car} ŸÖÿ™ŸàŸÅÿ±ÿ© ÿßŸÑÿ¢ŸÜ",
    
    // Language
    "languageChanged": "ÿ™ŸÖ ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑŸÑÿ∫ÿ©",
    "languageChangedTo": "ÿ™ŸÖ ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑŸÑÿ∫ÿ© ÿ•ŸÑŸâ {language}",
    
    // Auth
    "fullName": "ÿßŸÑÿßÿ≥ŸÖ ÿßŸÑŸÉÿßŸÖŸÑ",
    "enterFullName": "ÿ£ÿØÿÆŸÑ ÿßÿ≥ŸÖŸÉ ÿßŸÑŸÉÿßŸÖŸÑ",
    "email": "ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä",
    "password": "ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±",
    "confirmPassword": "ÿ™ÿ£ŸÉŸäÿØ ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±",
    "forgotPassword": "ŸÜÿ≥Ÿäÿ™ ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±ÿü",
    "backToLogin": "ÿßŸÑÿπŸàÿØÿ© ÿ•ŸÑŸâ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ",
    "dontHaveAccount": "ŸÑŸäÿ≥ ŸÑÿØŸäŸÉ ÿ≠ÿ≥ÿßÿ®ÿü",
    "alreadyHaveAccount": "ŸÑÿØŸäŸÉ ÿ≠ÿ≥ÿßÿ® ÿ®ÿßŸÑŸÅÿπŸÑÿü",
    "createAccount": "ÿ•ŸÜÿ¥ÿßÿ° ÿ≠ÿ≥ÿßÿ®",
    "loginAccount": "ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ",
    
    // Simplified for brevity - in a real app, you would include all translations
    "privacyIntroTitle": "ŸÖŸÇÿØŸÖÿ©",
    "privacyIntroText": "ÿ™Ÿàÿ∂ÿ≠ ÿ≥Ÿäÿßÿ≥ÿ© ÿßŸÑÿÆÿµŸàÿµŸäÿ© Ÿáÿ∞Ÿá ŸÉŸäŸÅŸäÿ© ÿ¨ŸÖÿπ Ÿàÿßÿ≥ÿ™ÿÆÿØÿßŸÖ Ÿàÿ≠ŸÖÿßŸäÿ© ŸÖÿπŸÑŸàŸÖÿßÿ™ŸÉ ÿßŸÑÿ¥ÿÆÿµŸäÿ© ÿπŸÜÿØ ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿÆÿØŸÖÿ© ÿ™ÿ£ÿ¨Ÿäÿ± ÿßŸÑÿ≥Ÿäÿßÿ±ÿßÿ™ ÿßŸÑÿÆÿßÿµÿ© ÿ®ŸÜÿß.",
    "contactTitle": "ÿßÿ™ÿµŸÑ ÿ®ŸÜÿß",
    "contactText": "ÿ•ÿ∞ÿß ŸÉÿßŸÜÿ™ ŸÑÿØŸäŸÉ ÿ£Ÿä ÿ£ÿ≥ÿ¶ŸÑÿ© ÿ≠ŸàŸÑ ÿ≥Ÿäÿßÿ≥ÿ© ÿßŸÑÿÆÿµŸàÿµŸäÿ© Ÿáÿ∞Ÿáÿå Ÿäÿ±ÿ¨Ÿâ ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ŸÜÿß ÿπÿ®ÿ± ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä ÿπŸÑŸâ contact@carrentalpro.fr ÿ£Ÿà ÿπÿ®ÿ± ÿßŸÑŸáÿßÿ™ŸÅ ÿπŸÑŸâ +33 1 23 45 67 89.",
    
    // Basic translations for policy pages
    "privacyPolicy": "ÿ≥Ÿäÿßÿ≥ÿ© ÿßŸÑÿÆÿµŸàÿµŸäÿ©",
    "termsOfService": "ÿ¥ÿ±Ÿàÿ∑ ÿßŸÑÿÆÿØŸÖÿ©",
    "cookiePolicy": "ÿ≥Ÿäÿßÿ≥ÿ© ŸÖŸÑŸÅÿßÿ™ ÿ™ÿπÿ±ŸäŸÅ ÿßŸÑÿßÿ±ÿ™ÿ®ÿßÿ∑",
  },
  it: {
    // Navigation
    "home": "Home",
    "cars": "I Nostri Veicoli",
    "reservations": "Prenotazioni",
    "contact": "Contatti",
    "login": "Accedi",
    "signup": "Registrati",
    "logout": "Esci",
    "admin": "Amministratore",
    "user": "Utente",
    
    // Footer
    "footerDescription": "Il tuo partner di fiducia per il noleggio di veicoli di qualit√† premium. La nostra missione √® offrirti la migliore esperienza di noleggio possibile.",
    "quickLinks": "Link Rapidi",
    "categories": "Categorie",
    "sedan": "Berline",
    "suv": "SUV",
    "electric": "Elettriche",
    "luxury": "Auto di Lusso",
    "economic": "Economiche",
    "utility": "Utilitarie",
    "allRightsReserved": "Tutti i diritti riservati.",
    
    // Featured Cars
    "ourPremiumVehicles": "I Nostri Veicoli",
    "premium": "Premium",
    "featuredCarsDescription": "Scopri la nostra selezione di veicoli di alta qualit√† per tutte le tue esigenze e budget. Offriamo una vasta gamma di auto per soddisfare tutti i tuoi requisiti.",
    "tous": "Tutte",
    "berline": "Berlina",
    "suv": "SUV",
    "√©lectrique": "Elettrica",
    "sport": "Sport",
    "viewAllVehicles": "Visualizza Tutti i Veicoli",
    "addedToFavorites": "Aggiunto ai preferiti",
    "addedToFavoritesDescription": "Il veicolo √® stato aggiunto ai tuoi preferiti",
    "removedFromFavorites": "Rimosso dai preferiti",
    "removedFromFavoritesDescription": "Il veicolo √® stato rimosso dai tuoi preferiti",
    "availabilityUpdated": "Disponibilit√† aggiornata",
    "vehicleNowUnavailable": "{car} non √® pi√π disponibile",
    "vehicleNowAvailable": "{car} √® ora disponibile",
    
    // Language
    "languageChanged": "Lingua Modificata",
    "languageChangedTo": "La lingua √® stata cambiata in {language}",
    
    // Auth
    "fullName": "Nome completo",
    "enterFullName": "Inserisci il tuo nome completo",
    "email": "Email",
    "password": "Password",
    "confirmPassword": "Conferma Password",
    "forgotPassword": "Password dimenticata?",
    "backToLogin": "Torna al login",
    "dontHaveAccount": "Non hai un account?",
    "alreadyHaveAccount": "Hai gi√† un account?",
    "createAccount": "Crea Account",
    "loginAccount": "Accedi",
    
    // Simplified for brevity - in a real app, you would include all translations
    "privacyIntroTitle": "Introduzione",
    "privacyIntroText": "Questa Informativa sulla Privacy spiega come raccogliamo, utilizziamo e proteggiamo le tue informazioni personali quando utilizzi il nostro servizio di noleggio auto.",
    "contactTitle": "Contattaci",
    "contactText": "Se hai domande su questa Informativa sulla Privacy, contattaci via email all'indirizzo contact@carrentalpro.fr o telefonicamente al numero +33 1 23 45 67 89.",
    
    // Basic translations for policy pages
    "privacyPolicy": "Informativa sulla Privacy",
    "termsOfService": "Termini di Servizio",
    "cookiePolicy": "Politica dei Cookie",
  }
};

// Create context
const TranslationContext = createContext<TranslationContextType>({
  language: availableLanguages[0],
  setLanguage: () => {},
  t: () => "",
  availableLanguages
});

// Provider component
export const TranslationProvider: React.FC<{children: React.ReactNode}> = ({ children }) => {
  const [language, setLanguageState] = useState<Language>(() => {
    // Try to get language from localStorage
    const savedLanguage = localStorage.getItem('preferred_language');
    if (savedLanguage) {
      const parsed = JSON.parse(savedLanguage);
      const found = availableLanguages.find(lang => lang.code === parsed.code);
      return found || availableLanguages[0];
    }
    return availableLanguages[0];
  });

  // Function to set language and save to localStorage
  const setLanguage = (lang: Language) => {
    setLanguageState(lang);
    localStorage.setItem('preferred_language', JSON.stringify(lang));
    
    // Set HTML dir attribute for RTL languages
    if (lang.code === 'ar') {
      document.documentElement.dir = 'rtl';
      document.documentElement.classList.add('rtl');
    } else {
      document.documentElement.dir = 'ltr';
      document.documentElement.classList.remove('rtl');
    }
  };

  // Set direction on initial load
  useEffect(() => {
    if (language.code === 'ar') {
      document.documentElement.dir = 'rtl';
      document.documentElement.classList.add('rtl');
    } else {
      document.documentElement.dir = 'ltr';
      document.documentElement.classList.remove('rtl');
    }
  }, []);

  // Translation function
  const t = (key: string, params?: Record<string, any>): string => {
    const translation = translations[language.code]?.[key] || translations.en?.[key] || key;
    
    if (params && Object.keys(params).length > 0) {
      return Object.keys(params).reduce((acc, paramKey) => {
        return acc.replace(`{${paramKey}}`, params[paramKey]);
      }, translation);
    }
    
    return translation;
  };

  return (
    <TranslationContext.Provider value={{ language, setLanguage, t, availableLanguages }}>
      {children}
    </TranslationContext.Provider>
  );
};

// Hook to use the translation context
export const useTranslation = () => {
  const context = useContext(TranslationContext);
  if (!context) {
    throw new Error("useTranslation must be used within a TranslationProvider");
  }
  return context;
};
